{
  "description": "CoLoRSdb cohort-level main workflow inputs.",
  "type" : "object",
  "required" : [ "colors_cohort.cohort_id", "colors_cohort.reference" ],
  "oneOf": [
    {
        "required": [ "colors_cohort.sample_ids", "colors_cohort.movies" ]
    },
    {
        "required": [ "colors_cohort.sample_sheet" ]
    }
  ],
  "properties" : {
    "colors_cohort.cohort_id" : {
      "type" : "string", 
      "minLength": 1,
      "pattern" : "^[A-Za-z0-9_-]+$"
    },
    "colors_cohort.sample_ids" : {
      "type" : "array",
      "minItems" : 1,
      "items" : {
        "type" : "string",
        "minLength": 1,
        "pattern" : "^[A-Za-z0-9_-]+$"
      }
    },
    "colors_cohort.movies" : {
      "type" : "array",
      "minItems" : 1,
      "items" : {
        "type" : "array",
        "minItems" : 1,
        "items" : {
          "type" : "string",
          "minLength": 1,
          "pattern" : "^.+(.bam|.fastq|.fq|.fq.gz|.fastq.gz)$"
        }
      }
    },
    "colors_cohort.sample_sheet" : { 
      "type" : "string",
      "minLength": 1 
    },
    "colors_cohort.reference" : {
      "type" : "object",
      "required" : [ "name", "fasta", "chromosomes", "autosomes", "non_diploid_regions", "tandem_repeat_bed", "somalier_sites_vcf" ],
      "properties": {
        "name" : {
          "type" : "string",
          "minLength": 1,
          "pattern" : "^[A-Za-z0-9_-]+$"
        },
        "fasta" : {
          "type" : "object",
          "required": [ "data", "index" ],
          "properties" : {
            "data" : {
              "type" : "string",
              "minLength": 1,
              "pattern" : "^.+(.fa|.fasta)$"
            },
            "index" : {
              "type" : "string",
              "minLength": 1,
              "pattern" : "^.+(.fa.fai|.fasta.fai)$"
            }
          }
        },
        "chromosomes" : {
          "type" : "array",
          "items" : { 
            "type" : "string",
            "minLength": 1,
            "pattern" : "^[A-Za-z0-9_-]+$"
          },
          "minItems" : 1
        },
        "autosomes" : {
          "type" : "array",
          "items" : { 
            "type" : "string",
            "minLength": 1,
            "pattern" : "^[A-Za-z0-9_-]+$"
          },
          "minItems" : 1
        },
        "non_diploid_regions" : { 
          "type" : "string",
          "minLength": 1 
        },
        "tandem_repeat_bed" : { 
          "type" : "string",
          "minLength": 1 
        },
        "somalier_sites_vcf" : { 
          "type" : "string",
          "minLength": 1
        },
        "trgt_tandem_repeat_bed" : { 
          "type" : "string",
          "minLength": 1
        },
        "hificnv_exclude_bed" : {
          "type" : "object",
          "properties" : {
            "data" : { 
              "type" : "string",
              "minLength": 1
            },
            "index" : { 
              "type" : "string",
              "minLength": 1
            }
          }
        },
        "hificnv_expected_bed_male" : { 
          "type" : "string",
          "minLength": 1
        },
        "hificnv_expected_bed_female" : {
          "type" : "string",
          "minLength": 1
        },
        "peddy_sites" : { 
          "type" : "string",
          "minLength": 1 
        },
        "peddy_bin" : { 
          "type" : "string",
          "minLength": 1 
        }
      }
    },
    "colors_cohort.anonymize_output" : { "type" : "boolean" },
    "colors_cohort.max_samples_pbsv_call" : {
      "type" : "integer", 
      "minimum": 2
    },
    "colors_cohort.max_sample_relatedness_qc" : {
      "type" : "number", 
      "minimum": 0, 
      "maximum": 1
    },
    "colors_cohort.min_movie_relatedness_qc" : {
      "type" : "number", 
      "minimum": 0, 
      "maximum": 1
    },
    "colors_cohort.deepvariant_version" : { 
      "type" : "string",
      "minLength": 1
    },
    "colors_cohort.pbsv_call_mem_gb" : {
      "type" : "integer", 
      "minimum": 1
    },
    "colors_cohort.glnexus_mem_gb" : {
      "type" : "integer", 
      "minimum": 1
    },
    "colors_cohort.sniffles_call_mem_gb" : {
      "type" : "integer", 
      "minimum": 1
    },
    "colors_cohort.backend" : {
      "type" : "string", 
      "minLength": 1,
      "pattern" : "(^HPC$|^AWS$|^GCP$|^Azure$)"
    },
    "colors_cohort.zones" : { 
      "type" : "string",
      "minLength": 1 
    },
    "colors_cohort.aws_spot_queue_arn" : { 
      "type" : "string",
      "minLength": 1 
    },
    "colors_cohort.aws_on_demand_queue_arn" : { 
      "type" : "string",
      "minLength": 1 
    },
    "colors_cohort.preemptible" : { "type" : "boolean" },
    "colors_cohort.container_registry" : { 
      "type" : "string",
      "minLength": 1 
    }
  }
}
